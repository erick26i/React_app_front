{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { useToken } from './TokenContext';\n\nconst useFetch = url => {\n  _s();\n\n  const [data, setData] = useState(null);\n  const [token] = useToken();\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        let params = !token ? {} : {\n          headers: {\n            'Authorization': 'Bearer ' + token\n          }\n        };\n        const res = await fetch(url, params);\n        if (!res.ok) throw new Error(res.statusText);\n        const data = await res.json();\n        setData(data);\n      } catch (err) {\n        console.warn(err);\n      }\n    };\n\n    loadData();\n  }, [url, token]);\n  console.log(token);\n  return data;\n};\n\n_s(useFetch, \"+H8THji5+E7kp9dR0yz4hGriOnA=\", false, function () {\n  return [useToken];\n});\n\nexport default useFetch;","map":{"version":3,"names":["useState","useEffect","useToken","useFetch","url","data","setData","token","loadData","params","headers","res","fetch","ok","Error","statusText","json","err","console","warn","log"],"sources":["/home/erick/Escritorio/Carpeta Personal Erick/Proyecto/front-end/src/hooks/useFetch.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { useToken } from './TokenContext'\n\nconst useFetch = (url) => {\n  const [data, setData] = useState(null)\n  const [token] = useToken()\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        let params = !token ? {} : {\n          headers: { 'Authorization':  'Bearer ' + token }\n        }\n        \n        const res = await fetch(url, params)\n        if (!res.ok) throw new Error(res.statusText)\n        const data = await res.json()\n        setData(data)\n        \n      } catch (err) {\n        console.warn(err)\n      }\n    }\n    loadData()\n  }, [url, token])\nconsole.log(token)\n  return data\n\n}\n\nexport default useFetch"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,QAAT,QAAyB,gBAAzB;;AAEA,MAAMC,QAAQ,GAAIC,GAAD,IAAS;EAAA;;EACxB,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAAC,IAAD,CAAhC;EACA,MAAM,CAACO,KAAD,IAAUL,QAAQ,EAAxB;EAEAD,SAAS,CAAC,MAAM;IACd,MAAMO,QAAQ,GAAG,YAAY;MAC3B,IAAI;QACF,IAAIC,MAAM,GAAG,CAACF,KAAD,GAAS,EAAT,GAAc;UACzBG,OAAO,EAAE;YAAE,iBAAkB,YAAYH;UAAhC;QADgB,CAA3B;QAIA,MAAMI,GAAG,GAAG,MAAMC,KAAK,CAACR,GAAD,EAAMK,MAAN,CAAvB;QACA,IAAI,CAACE,GAAG,CAACE,EAAT,EAAa,MAAM,IAAIC,KAAJ,CAAUH,GAAG,CAACI,UAAd,CAAN;QACb,MAAMV,IAAI,GAAG,MAAMM,GAAG,CAACK,IAAJ,EAAnB;QACAV,OAAO,CAACD,IAAD,CAAP;MAED,CAVD,CAUE,OAAOY,GAAP,EAAY;QACZC,OAAO,CAACC,IAAR,CAAaF,GAAb;MACD;IACF,CAdD;;IAeAT,QAAQ;EACT,CAjBQ,EAiBN,CAACJ,GAAD,EAAMG,KAAN,CAjBM,CAAT;EAkBFW,OAAO,CAACE,GAAR,CAAYb,KAAZ;EACE,OAAOF,IAAP;AAED,CAzBD;;GAAMF,Q;UAEYD,Q;;;AAyBlB,eAAeC,QAAf"},"metadata":{},"sourceType":"module"}